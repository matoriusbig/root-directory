# 05 - RecopilaciÃ³n de InformaciÃ³n (Information Gathering) ğŸŒ

> **ğŸ¯ Objetivo:** EntenderÃ¡s que el Ã©xito de un hacking Ã©tico no depende de teclear rÃ¡pido como en las pelÃ­culas, sino de cuÃ¡nto sabes sobre tu objetivo. AprenderÃ¡s a construir los cimientos de tu ataque investigando desde empleados hasta infraestructuras complejas.

---

### 1. La Piedra Angular del Pentesting

Una vez que se firman los contratos y tenemos luz verde legal (la fase de pre-compromiso), comienza la verdadera acciÃ³n. **La RecopilaciÃ³n de InformaciÃ³n** es la fase mÃ¡s vital y recurrente.

Imagina que eres un arquitecto. No puedes construir un edificio sin inspeccionar el terreno, medir el suelo y conocer el clima. En ciberseguridad es igual:

> "Todos los pasos que tomamos para explotar vulnerabilidades se basan EXCLUSIVAMENTE en la informaciÃ³n que hemos encontrado previamente."

Si no sabes que un servidor existe, no puedes atacarlo. AsÃ­ de simple.

#### Las 4 CategorÃ­as de la InformaciÃ³n

Podemos dividir nuestra investigaciÃ³n en cuatro grandes pilares. Piensa en ellos como niveles de zoom de una cÃ¡mara:

|**CategorÃ­a**|**Â¿QuÃ© buscamos?**|**AnalogÃ­a**|
|---|---|---|
|**1. OSINT (Open Source Intelligence)**|InformaciÃ³n pÃºblica en internet.|Investigar a una persona mirando sus redes sociales pÃºblicas.|
|**2. EnumeraciÃ³n de Infraestructura**|Mapa de la red (DNS, servidores, nube).|Dibujar el plano de la ciudad donde vive tu objetivo.|
|**3. EnumeraciÃ³n de Servicios**|QuÃ© programas corren en esos servidores.|Ver quÃ© puertas tiene la casa y quÃ© tipo de cerradura usan.|
|**4. EnumeraciÃ³n de Hosts**|Detalles especÃ­ficos del sistema operativo.|Entrar a una habitaciÃ³n y ver quÃ© muebles y documentos hay.|

---

### 2. OSINT: Inteligencia de CÃ³digo Abierto ğŸ•µï¸â€â™‚ï¸

Supongamos que el cliente quiere saber quÃ© puede encontrar un extraÃ±o sobre ellos en Google. AquÃ­ entra **OSINT**.

> âœ‰ï¸ La AnalogÃ­a de la ComunicaciÃ³n:
> 
> "Al igual que los humanos intercambiamos frases para lograr un objetivo (pedir cafÃ©, saludar), los sistemas de red intercambian paquetes para almacenar datos o registrar acciones. Nuestro trabajo es interceptar o encontrar esos rastros de comunicaciÃ³n pÃºblica."

Â¿QuÃ© podemos encontrar?

A menudo, la gente comparte mÃ¡s de lo que debe sin darse cuenta.

- **Github/GitLab:** Los desarrolladores a veces suben cÃ³digo mal configurado.
    
- **StackOverflow:** A veces copian y pegan trozos de cÃ³digo que revelan cÃ³mo funciona la lÃ³gica interna de la empresa.
    

> ğŸ›¡ï¸ Nota de Seguridad (CRÃTICA):
> 
> Si durante esta fase encuentras contraseÃ±as, hashes, claves SSH o Tokens de API expuestos pÃºblicamente, Â¡ALTO! Esto es una brecha crÃ­tica. SegÃºn tu acuerdo (RoE - Rules of Engagement), debes reportarlo inmediatamente al administrador para que cambie esas credenciales antes de seguir. Un atacante real podrÃ­a entrar en minutos.

---

### 3. EnumeraciÃ³n de Infraestructura: El Mapa del Tesoro ğŸ—ºï¸

AquÃ­ analizamos la postura de la empresa en Internet (externo) e Intranet (interno). Usamos herramientas como **DNS** para mapear servidores de correo, servidores web o instancias en la nube.

Objetivo TÃ¡ctico:

Cuanto mejor sea tu mapa, mejor podrÃ¡s ocultarte. Si identificas las defensas de seguridad (como un WAF - Web Application Firewall), sabrÃ¡s quÃ© ataques evitar para no disparar las alarmas. A esto se le llama Evasive Testing (Pruebas Evasivas).

**Perspectivas:**

1. **Externa:** Mirando desde fuera de la muralla.
    
2. **Interna:** Una vez dentro de la red. AquÃ­ podemos usar tÃ©cnicas como el **Password Spraying** (Rociado de ContraseÃ±as).
    
    - _Â¿QuÃ© es?_ Probar una contraseÃ±a comÃºn (ej: "12345678") contra _muchos_ usuarios diferentes, esperando que alguno haya sido descuidado. Un solo Ã©xito nos da un punto de apoyo (foothold).
        
 
![[red-enumeracion.png]]
 
---

### 4. EnumeraciÃ³n de Servicios: Identificando las Puertas ğŸšª

Una vez que sabemos quÃ© mÃ¡quinas existen, preguntamos: **Â¿QuÃ© estÃ¡n haciendo?**

Buscamos servicios que nos permitan interactuar (Web, FTP, SSH).

> ğŸ’¡ El Factor Humano:
> 
> Muchos administradores tienen miedo de actualizar sus servidores ("Si funciona, no lo toques"). Esto deja versiones antiguas de software corriendo.
> 
> - **Tu ventaja:** Las versiones antiguas tienen vulnerabilidades conocidas (CVEs) que ya no existen en las nuevas. Identificar la _versiÃ³n_ exacta de un servicio es como encontrar la llave maestra.
>     

---

### 5. EnumeraciÃ³n de Hosts: La InspecciÃ³n Cercana ğŸ”¬

Ahora examinamos cada mÃ¡quina individualmente (Host). AquÃ­ analizamos el Sistema Operativo (OS), quÃ© puertos usa y con quiÃ©n habla.

El peligro de la "Seguridad Interna":

Desde una perspectiva interna, a menudo encontramos servicios abiertos que nunca estarÃ­an expuestos a internet (como un FTP sin contraseÃ±a).

> **ğŸ§  Â¿Por quÃ© pasa esto?** Los administradores suelen ser descuidados dentro de la red local (LAN) porque asumen que "nadie malo puede entrar aquÃ­". Esa suposiciÃ³n es nuestra oportunidad.

**Post-ExplotaciÃ³n (Post-Exploitation)**: Cuando logramos entrar en un host, buscamos archivos locales, scripts o configuraciones. AquÃ­ buscamos elevar nuestros privilegios (hacernos administradores).

---

### 6. Saqueo (Pillaging): El Arte de Recolectar BotÃ­n ğŸ´â€â˜ ï¸

Aunque diversas plataformas (como HTB o Coursera) mencionan que "Information Gathering" es pre-compromiso, el **Saqueo (Pillaging)** es la recopilaciÃ³n de informaciÃ³n que ocurre **despuÃ©s** de haber comprometido un sistema.

> **ğŸ’¡ Nota:** No hay un "mÃ³dulo Ãºnico" de saqueo. Es una habilidad que usarÃ¡s constantemente en:
> 
> - Ataques de contraseÃ±as.
>     
> - Directorios Activos (Active Directory).
>     
> - Escalada de privilegios (Linux/Windows).
>     

**Â¿QuÃ© buscamos al saquear?**

- Nombres de empleados y clientes.
    
- Datos financieros.
    
- Credenciales para moverse lateralmente (saltar a otra computadora en la red).
    

El saqueo nos permite demostrar el **Impacto** real al negocio. No es lo mismo decir "tienes un puerto abierto" que decir "tengo la base de datos de tus clientes".

---

### ğŸ“ Resumen para llevar

- **La base es todo:** No puedes atacar lo que no ves. Dedica tiempo a investigar antes de lanzar exploits.
    
- **Contexto es Rey:** Entender _para quÃ©_ sirve un servidor te ayuda a saber _cÃ³mo_ atacarlo.
    
- **El descuido humano:** Busca versiones antiguas de software y servicios internos mal configurados; suelen ser el eslabÃ³n mÃ¡s dÃ©bil.
    
- **Seguridad Primero:** Si encuentras credenciales crÃ­ticas en la fase OSINT, repÃ³rtalo de inmediato.
    

![[ciclo-osint.png]]